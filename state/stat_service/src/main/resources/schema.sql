CREATE TABLE IF NOT EXISTS stat_event (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY  NOT NULL,
    app	VARCHAR(50)                             NOT NULL,
    uri	VARCHAR(50)                             NOT NULL,
    ip	VARCHAR(12)                             NOT NULL,
    time_stamp VARCHAR(20)                      NOT NULL,

    CONSTRAINT pk_stat_event PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS stat (
    stat_id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    event BIGINT                                    NOT NULL,
    hits BIGINT                                     NOT NULL,
    hits_unique BIGINT                              NOT NULL,
    CONSTRAINT pk_stat PRIMARY KEY (stat_id),
    CONSTRAINT fk_endpoint_hit_view_stats FOREIGN KEY (event) REFERENCES stat_event(id) ON DELETE CASCADE
    );